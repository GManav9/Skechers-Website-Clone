<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="style.css" />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.all.min.js"></script>
    <!-- Bootstarp CDN -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <!-- Bootstarp CDN -->

    <!-- Google Font cdn -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Mulish:ital,wght@0,200..1000;1,200..1000&display=swap"
      rel="stylesheet"
    />
    <!-- Google Font cdn -->

    <!-- Font Awesome CDN -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
      integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <!-- Font Awesome CDN -->
  </head>
  <style>
    .sp {
      /* border: 1px solid red; */
      width: 100%;
    }
    @media (max-width: 480px) {
      .sp {
        width: 90%;
      }
    }
  </style>
  <body>
    <div class="subheader">
      <div class="row w-100">
        <div class="d-flex justify-content-end align-items-center">
          <div
            class="a1 d-flex justify-content-evenly align-items-center ms-2 me-4"
          >
            <a
              href="login.html"
              class="d-flex align-items-center text-decoration-none text-dark"
              ><img src="images/log-in (1).png" class="me-2" alt="" />Login /
              Signup</a
            >
          </div>
          <div
            class="a1 d-flex justify-content-evenly align-items-center ms-2 me-4"
          >
            <a
              href=""
              class="d-flex align-items-center text-decoration-none text-dark"
              ><img src="images/user (1).png" class="me-2" alt="" />My
              Account</a
            >
          </div>
          <div
            class="a1 d-flex justify-content-evenly align-items-center ms-2 me-4"
          >
            <a
              href=""
              class="d-flex align-items-center text-decoration-none text-dark"
              ><img src="images/track-order (1).png" class="me-2" alt="" />Track
              Order</a
            >
          </div>
          <div
            class="a1 d-flex justify-content-evenly align-items-center ms-2 me-4"
          >
            <a
              href=""
              class="d-flex align-items-center text-decoration-none text-dark"
              ><img src="images/map-pin (1).png" class="me-2" alt="" />Stores</a
            >
          </div>
          <div
            class="a1 d-flex justify-content-evenly align-items-center ms-2 me-4"
          >
            <a
              href=""
              class="d-flex align-items-center text-decoration-none text-dark"
              ><img
                src="images/help-circle (1).png"
                class="me-2"
                alt=""
              />Help</a
            >
          </div>
        </div>
      </div>
    </div>

    <nav class="navbar navbar-expand-xl">
      <div class="container-fluid">
        <a href="index.html" id="l">
          <img src="images/skechers-logo.png" class="img-fluid ms-3" alt="" />
        </a>
        <!-- <a class="navbar-brand" href="#">Navbar</a> -->
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <div
            class="fi d-flex flex-column flex-xl-row flex-lg-row justify-content-between align-xl-items-center align-items-start w-100 mt-xl-0 mt-4"
          >
            <ul
              class="navbar-nav m-xl-auto d-flex flex-column flex-lg-row justify-content-between align-xl-items-center align-items-start mb-2 mb-lg-0"
              id="nav"
            >
              <li class="nav-item">
                <a class="nav-link" href="women's.html">WOMEN</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="men's.html">MEN</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">KIDS</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">APPARELS</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">COLLECTION</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">SPORTS</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">SALE</a>
              </li>
            </ul>
            <div
              class="search d-flex justify-content-around align-xl-items-center align-items-start me-xl-3 mt-lg-1"
            >
              <form action="" class="position-relative">
                <input
                  type="text"
                  class="search-input w-100 pe-5"
                  placeholder="Search..."
                />
                <i class="fa-solid fa-magnifying-glass position-absolute"></i>
              </form>
              <div>
                <a href="cart.html">
                  <i class="bi fs-4 bi-bag-check"></i>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </nav>

    <div class="sp d-flex justify-content-center row m-auto m-0 my-4"></div>

    <footer
      class="d-flex justify-content-center align-items-center flex-column"
    >
      <div class="row mt-5 mb-5">
        <div class="col-xl-2">
          <img
            id="footer_logo"
            src="https://www.skechers.in/on/demandware.static/Sites-skechersin-Site/-/default/dwf7c9b9bb/images/skechers-logo.png"
            class="img-fluid"
            alt=""
          />
        </div>
      </div>
      <div class="row mb-5 d-flex justify-content-start">
        <div class="col-xl-8 col-12 d-flex justify-content-evenly">
          <div class="row w-100 d-flex justify-xl-content-between">
            <div class="col-xl-3 col-6 col-sm-6 col-md-6 col-lg-3 mt-5 mt-xl-0">
              <h6 style="font-weight: bold; font-size: 17px">About Skechers</h6>
              <div class="mt-3 d-flex flex-column">
                <a href="" class="mt-2">Corporate Info</a>
                <a href="" class="mt-2">Corporate Governance</a>
              </div>
            </div>
            <div class="col-xl-3 col-6 col-sm-6 col-md-6 col-lg-3 mt-5 mt-xl-0">
              <h6 style="font-weight: bold; font-size: 17px">
                Customer Service
              </h6>
              <div class="mt-3 d-flex flex-column">
                <a href="" class="mt-2">Return Policy</a>
                <a href="" class="mt-2">Product Information</a>
                <a href="" class="mt-2">Contact Us</a>
                <a href="" class="mt-2">Sitemap</a>
              </div>
            </div>
            <div class="col-xl-3 col-6 col-sm-6 col-md-6 col-lg-3 mt-5 mt-xl-0">
              <h6 style="font-weight: bold; font-size: 17px">My Account</h6>
              <div class="mt-3 d-flex flex-column">
                <a href="" class="mt-2">Order Status</a>
                <a href="" class="mt-2">Saved Products</a>
                <a href="" class="mt-2">My Returns</a>
              </div>
            </div>
            <div class="col-xl-3 col-6 col-sm-6 col-md-6 col-lg-3 mt-5 mt-xl-0">
              <h6 style="font-weight: bold; font-size: 17px">Others</h6>
              <div class="mt-3 d-flex flex-column">
                <a href="" class="mt-2">FAQ</a>
                <a href="" class="mt-2">Terms & Condition</a>
                <a href="" class="mt-2">Privacy Policy</a>
                <a href="" class="mt-2">Find A Store</a>
              </div>
            </div>
          </div>
        </div>
        <div
          id="icons"
          class="col-xl-4 col-12 col-lg-4 mt-xl-0 mt-3"
          style="height: 100px"
        >
          <h6 style="font-weight: bold; font-size: 17px">Follow Us</h6>
          <div
            class="icons d-flex justify-content-between mt-3 align-items-center"
          >
            <i style="cursor: pointer" class="fa-brands fa-facebook-f"></i>
            <i style="cursor: pointer" class="fa-brands fa-twitter"></i>
            <i style="cursor: pointer" class="fa-brands fa-instagram"></i>
            <i style="cursor: pointer" class="fa-brands fa-youtube"></i>
          </div>
        </div>
      </div>
    </footer>
  </body>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script>
    let url = new URLSearchParams(window.location.search);
    let id = url.get("id");

    fetch(`https://mock-server-app-ezrb.onrender.com/Menproducts/${id}`)
      .then((res) => res.json())
      .then((res) => {
        document.querySelector(".sp").innerHTML = `
        <div class="col-10 col-sm-6 col-md-6 col-lg-5">
          <img src="${res.image}" class="img-fluid" alt="Product Image">
        </div>
        <div class="col-12 col-sm-6 col-md-6 col-lg-5 d-flex justify-content-center flex-column align-items-start">
          <h4 class="fs-5 fw-normal" style="letter-spacing: 1px;">${res.categorie}</h4>
          <h4 class="fs-3 fw-bold">${res.title}</h4>
        <div class="d-flex gap-3 align-items-center">
          <p class="fs-4 fw-bold m-0"><span class="fs-6">MRP</span> &#8377;${res.price}.00</p>
          <span>(incl. of all taxes)</span>
        </div>
        <div class="my-3">
          <p class="fw-bold fs-5 m-0">Quantity</p>
          <input type="number" class="text-center" value="1" style="width: 50px;">
        </div>
          <button onclick="check(${id})" style="background: #0063ba;" class="text-white py-2 px-4 my-4 border-0" aria-label="Add to Cart">ADD TO CART</button>
        </div>

        `;
      })
      .catch((err) => {
        console.log(err);
      });
    function check(id) {
      const quantityInput = document.querySelector('input[type="number"]');
      const quantity = parseInt(quantityInput.value, 10);

      if (isNaN(quantity) || quantity <= 0) {
        alert("Please enter a valid quantity.");
        return;
      }

      fetch(`https://mock-server-app-ezrb.onrender.com/carts?id=${id}`)
        .then((res) => res.json())
        .then((res) => {
          if (res.length === 0) {
            getData(id, quantity);
          } else {
            Swal.fire({
              icon: "warning",
              title: "Item already in cart!",
              text: "This item is already in your cart.",
              confirmButtonText: "OK",
            });
            // alert("Item already added to cart!");
          }
        })
        .catch((err) => {
          console.log(err);
        });
    }
    function getData(id, quantity) {
      fetch(`https://mock-server-app-ezrb.onrender.com/Menproducts/${id}`)
        .then((res) => res.json())
        .then((res) => {
          res.quantity = quantity; // Add quantity to the product object
          addCart(res);
        })
        .catch((err) => {
          console.log(err);
        });
      function addCart(res) {
        fetch(`https://mock-server-app-ezrb.onrender.com/carts`, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify(res),
        })
          .then((res) => res.json())
          .then((res) => {
            window.location.href = "cart.html"; // Redirect to cart page
            // alert("Item added to cart successfully!");
            // Swal.fire({
            //   title: "Good job!",
            //   text: "You clicked the button!",
            //   icon: "success",
            // });
          })
          .catch((err) => {
            console.log(err);
          });
      }
    }
  </script>
</html>
